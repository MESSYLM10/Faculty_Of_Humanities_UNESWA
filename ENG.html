<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Language and Literature - Faculty of Humanities</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .top-bar {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 5%;
        }
        
        .weather-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .weather-container h2 {
            font-size: 1.1em;
            margin: 0;
        }
        
        .weather-icon {
            width: 30px;
            height: 30px;
        }
        
        .search {
            display: flex;
            gap: 5px;
        }
        
        .search input {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            outline: none;
        }
        
        .search button {
            padding: 8px 16px;
            background: #ff6b35;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .search button:hover {
            background: #e55a2b;
        }
        
        header {
            background: white;
            padding: 20px 5%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 30px;
        }
        
        .logo-container img {
            height: 80px;
            width: auto;
        }
        
        .header-title h1 {
            color: #1e3c72;
            font-size: 2.2em;
            margin-bottom: 5px;
        }
        
        .header-title h2 {
            color: #666;
            font-size: 1.3em;
            font-weight: 400;
        }
        
        .breadcrumb {
            background: #e9ecef;
            padding: 15px 5%;
            font-size: 0.9em;
        }
        
        .breadcrumb a {
            color: #1e3c72;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
           nav {
    background: #1e3c72;
    padding: 0 5%;
}

nav ul {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    justify-content: center; /* This is the correct placement */
}

nav ul li {
    position: relative;
}

nav ul li a {
    color: white;
    text-decoration: none;
    padding: 15px 20px;
    display: block;
}
        
        .dropdown-content {
            position: absolute;
            top: 100%;
            left: 0;
            background: #2a5298;
            min-width: 280px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content a {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .dropdown-content a:hover {
            background: #1e3c72;
        }
        
        .hero {
            background: linear-gradient(135deg, rgba(25, 25, 112, 0.9), rgba(75, 0, 130, 0.9)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400"><rect fill="%23e6e6fa" width="1200" height="400"/><g opacity="0.2"><circle cx="200" cy="100" r="80" fill="%23191970"/><circle cx="800" cy="200" r="120" fill="%234b0082"/><circle cx="1100" cy="150" r="60" fill="%23ff6b35"/></g></svg>');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 5%;
            text-align: center;
        }
        
        .hero-content h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero-content p {
            font-size: 1.2em;
            margin-bottom: 25px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 5%;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
        }
        
        .section {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .section h2 {
            color: #1e3c72;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #4b0082;
            padding-bottom: 10px;
        }
        
        .section h3 {
            color: #4b0082;
            font-size: 1.4em;
            margin-bottom: 15px;
            margin-top: 25px;
        }
        
        .section p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .faculty-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .faculty-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            border-left: 4px solid #4b0082;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .faculty-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .faculty-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 8px;
        }
        
        .faculty-position {
            color: #4b0082;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .faculty-qualifications {
            font-size: 0.9em;
            color: #666;
            line-height: 1.5;
        }
        
        .sidebar {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .sidebar h3 {
            color: #1e3c72;
            margin-bottom: 20px;
            border-bottom: 2px solid #4b0082;
            padding-bottom: 10px;
        }
        
        .department-nav {
            list-style: none;
        }
        
        .department-nav li {
            margin-bottom: 10px;
        }
        
        .department-nav a {
            color: #666;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
            border-radius: 5px;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        
        .department-nav a:hover, .department-nav a.current {
            background: #e6e6fa;
            color: #4b0082;
            border-left-color: #4b0082;
        }
        
        .stats-box {
            background: linear-gradient(135deg, #191970, #4b0082);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .stats-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        
        .stats-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .programs-list {
            list-style: none;
            margin-top: 20px;
        }
        
        .programs-list li {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            color: #666;
        }
        
        .programs-list li:last-child {
            border-bottom: none;
        }
        
        .programs-list li:before {
            content: "✓";
            color: #4b0082;
            font-weight: bold;
            margin-right: 10px;
        }
        
        footer {
            background: #1e3c72;
            color: white;
            padding: 50px 5% 30px;
            margin-top: 60px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-title {
            color: #ff6b35;
            font-size: 1.3em;
            margin-bottom: 20px;
        }
        
        .footer-grid ul {
            list-style: none;
        }
        
        .footer-grid ul li {
            margin-bottom: 10px;
        }
        
        .footer-grid ul li a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-grid ul li a:hover {
            color: #ff6b35;
        }
        
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-content h1 {
                font-size: 2.2em;
            }
            
            .faculty-grid {
                grid-template-columns: 1fr;
            }
            
            header {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="weather-container" id="weather">
            <h2>Manzini</h2>
            <img id="weather-icon" class="weather-icon" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFD700'><circle cx='12' cy='12' r='5'/><line x1='12' y1='1' x2='12' y2='3'/><line x1='12' y1='21' x2='12' y2='23'/><line x1='4.22' y1='4.22' x2='5.64' y2='5.64'/><line x1='18.36' y1='18.36' x2='19.78' y2='19.78'/><line x1='1' y1='12' x2='3' y2='12'/><line x1='21' y1='12' x2='23' y2='12'/><line x1='4.22' y1='19.78' x2='5.64' y2='18.36'/><line x1='18.36' y1='5.64' x2='19.78' y2='4.22'/></svg>" alt="Weather Icon">
            <p id="temperature">22°C</p>
        </div>
        <div class="search">
            <input type="search" placeholder="Search...">
            <button>Search</button>
        </div>
    </div>

    <header>
        <div class="logo-container">
            <img src="University_of_Eswatini_logo.svg" alt="University of Eswatini Logo">
        </div>
        <div class="header-title">
            <h1>University of Eswatini</h1>
            <h2>Faculty of Humanities</h2>
        </div>
    </header>

    <div class="breadcrumb">
        <a href="javascript:loadPage('faculty')">Faculty of Humanities</a> > English Language and Literature
    </div>


    <nav>
        <ul>
            <li class="active"><a href="/faculty" data-page="faculty">Home</a></li>
            <li><a href="#about">About Faculty</a></li>
            <li class="dropdown">
                <a href="#">Departments</a>
                <div class="dropdown-content">
                    <!-- New format - can use either JavaScript or direct paths -->
                    <a href="/acs" data-page="acs">Academic Communication Skills</a>
                    <a href="/african-lang" data-page="african-lang">African Languages and Literature</a>
                    <a href="/english" data-page="english">English Language and Literature</a>
                    <a href="/history" data-page="history">History</a>
                    <a href="/journalism" data-page="journalism">Journalism and Mass Communication</a>
                    <a href="/theology" data-page="theology">Theology and Religious Studies</a>
                </div>
            </li>
            <li><a href="#faculty-staff">Faculty & Staff</a></li>

            <li><a href="/uneswa-fm" data-page="uneswa-fm">UNESWA-FM</a></li>
            <li><a href="#programs">Academic Programs</a></li>
            <li><a href="#research">Research</a></li>
            <li class="dropdown">
                <a href="#">Student Resources</a>
                <div class="dropdown-content">
                    <a href="https://learn.uneswa.ac.sz/login/index.php" target="_blank">UNESWA E-Learning Portal</a>
                    <a href="http://www.library.uneswa.ac.sz/" target="_blank">Library</a>
                    <a href="https://kwmail.uneswa.ac.sz/" target="_blank">Email</a>
                </div>
            </li>
            <li><a href="#contact">Contact Us</a></li>
        </ul>
    </nav>

    <div class="hero">
        <div class="hero-content">
            <h1>English Language and Literature</h1>
            <p>Excellence in English studies, from language proficiency to literary analysis and creative writing.</p>
        </div>
    </div>

    <div class="main-content">
        <div class="content-grid">
            <div class="main-section">
                <div class="section">
                    <h2>About the Department</h2>
                    <p>The Department of English Language and Literature has been at the forefront of English studies at the University of Eswatini for decades. We provide comprehensive education in English language proficiency, literary analysis, critical thinking, and creative expression.</p>
                    
                    <p>Our programs prepare students for diverse careers in education, writing, publishing, media, diplomacy, and public service. We emphasize both local and global perspectives, encouraging students to engage with literature from Africa, Europe, America, and other regions while developing their own voices as writers and scholars.</p>

                    <h3>Mission</h3>
                    <p>To develop competent and confident users of the English language who can analyze, interpret, and create literature while fostering critical thinking and cultural awareness.</p>

                    <h3>Vision</h3>
                    <p>To be the leading center for English language and literary studies in Southern Africa, recognized for academic excellence and cultural sensitivity.</p>

                    <h3>Areas of Excellence</h3>
                    <ul class="programs-list">
                        <li>African Literature in English</li>
                        <li>Postcolonial Literary Theory</li>
                        <li>Creative Writing and Poetry</li>
                        <li>Language Teaching Methodology</li>
                        <li>Comparative Literature</li>
                        <li>Digital Humanities</li>
                    </ul>
                </div>

                <div class="section">
                    <h2>Academic Programs</h2>
                    <h3>Undergraduate Programs</h3>
                    <ul class="programs-list">
                        <li>BA English Language and Literature</li>
                        <li>BA English Education</li>
                        <li>Certificate in Professional Writing</li>
                        <li>Minor in Creative Writing</li>
                        <li>Diploma in English Language Teaching</li>
                    </ul>

                    <h3>Postgraduate Programs</h3>
                    <ul class="programs-list">
                        <li>MA English Literature</li>
                        <li>MA Applied Linguistics</li>
                        <li>MFA Creative Writing</li>
                        <li>PhD English Studies</li>
                        <li>PhD Applied Linguistics</li>
                    </ul>

                    <h3>Professional Development</h3>
                    <ul class="programs-list">
                        <li>Teacher Training Programs</li>
                        <li>Writing Workshops</li>
                        <li>Literary Translation Certificate</li>
                        <li>Public Speaking and Rhetoric</li>
                        <li>Editorial and Publishing Skills</li>
                    </ul>
                </div>

                <div class="section">
                    <h2>Faculty Members</h2>
                    <div class="faculty-grid">
                        <div class="faculty-card">
                            <div class="faculty-name">Position Vacant</div>
                            <div class="faculty-position">Professor & Head</div>
                            <div class="faculty-qualifications">Recruitment in Progress</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">O.A. Akingbe</div>
                            <div class="faculty-position">Associate Professor</div>
                            <div class="faculty-qualifications">BA (Hons), M.A. (Lagos), M.Sc (University of Nigeria), Ph.D (Lagos)</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">Position Vacant</div>
                            <div class="faculty-position">Senior Lecturer</div>
                            <div class="faculty-qualifications">Recruitment in Progress</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">P.A. Dlamini</div>
                            <div class="faculty-position">Lecturer & Head</div>
                            <div class="faculty-qualifications">B.A. +CDE (UNISWA), M. Phil. Ph.D. (UCT)</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">T.G. Dlamini</div>
                            <div class="faculty-position">Lecturer</div>
                            <div class="faculty-qualifications">B.A., PGCE (UNISWA), M. Phil. (Stellenbosch)</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">V.T. Dlamini</div>
                            <div class="faculty-position">Lecturer</div>
                            <div class="faculty-qualifications">B.A., PGCE (UNISWA), M. Phil., Ph.D. (Stellenbosch)</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">L.M. Mhlanga</div>
                            <div class="faculty-position">Lecturer</div>
                            <div class="faculty-qualifications">PTD (Ngwane), B.Ed. (UNISWA), M.A. (Stephen F. Austin State)</div>
                        </div>

                        <div class="faculty-card">
                            <div class="faculty-name">T. Mzileni</div>
                            <div class="faculty-position">Lecturer</div>
                            <div class="faculty-qualifications">B.A., PGCE (UNISWA), M.A. (Stephen F. Austin State)</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="stats-box">
                    <span class="stats-number">7</span>
                    <span class="stats-label">Faculty Members</span>
                </div>

                <h3>Other Departments</h3>
                <ul class="department-nav">
                    <li><a href="javascript:loadPage('acs')">Academic Communication Skills</a></li>
                    <li><a href="javascript:loadPage('african-lang')">African Languages and Literature</a></li>
                    <li><a href="javascript:loadPage('english')" class="current">English Language and Literature</a></li>
                    <li><a href="javascript:loadPage('history')">History</a></li>
                    <li><a href="javascript:loadPage('journalism')">Journalism and Mass Communication</a></li>
                    <li><a href="javascript:loadPage('theology')">Theology and Religious Studies</a></li>
                </ul>

                <div style="margin-top: 30px; padding: 20px; background: #e6e6fa; border-radius: 8px;">
                    <h4 style="color: #4b0082; margin-bottom: 15px;">Quick Contact</h4>
                    <p style="margin-bottom: 10px;"><strong>Department Head:</strong><br>P.A. Dlamini</p>
                    <p style="margin-bottom: 10px;"><strong>Email:</strong><br>english@uneswa.sz</p>
                    <p><strong>Phone:</strong><br>+268 2517 0000</p>
                </div>

                <div style="margin-top: 20px; padding: 20px; background: #f0f8ff; border-radius: 8px;">
                    <h4 style="color: #4b0082; margin-bottom: 15px;">Literary Society</h4>
                    <p style="color: #666; font-size: 0.9em;">Join our vibrant literary community with regular readings, workshops, and publications.</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-grid">
            <div>
                <h3 class="footer-title">Quick Links</h3>
                <ul>
                    <li><a href="javascript:loadPage('faculty')">Faculty Home</a></li>
                    <li><a href="#programs">Programs</a></li>
                    <li><a href="#research">Research</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div>
                <h3 class="footer-title">Contact Information</h3>
                <p>English Language and Literature</p>
                <p>Faculty of Humanities</p>
                <p>University of Eswatini</p>
                <p>Tel: +268 2517 0000</p>
            </div>
            <div>
                <h3 class="footer-title">Literary Resources</h3>
                <p>Access our library collections, writing center, and literary publications.</p>
            </div>
        </div>
    </footer>

    
    <script>
        // ======================================
        // COMPLETE FACULTY WEBSITE IMPLEMENTATION
        // University of Eswatini - Faculty of Humanities
        // ======================================

        // ======================================
        // 1. WEATHER API INTEGRATION
        // ======================================

        class WeatherService {
            constructor() {
                this.apiKey = 'YOUR_OPENWEATHERMAP_API_KEY'; // Replace with actual API key
                this.city = 'Manzini';
                this.apiURL = `https://api.openweathermap.org/data/2.5/weather?q=${this.city}&appid=${this.apiKey}&units=metric`;
            }

            async fetchWeatherData() {
                try {
                    const response = await fetch(this.apiURL);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    return {
                        temperature: data.main.temp,
                        description: data.weather[0].description,
                        iconCode: data.weather[0].icon,
                        iconURL: `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`
                    };
                } catch (error) {
                    console.error('Weather API Error:', error);
                    return {
                        temperature: 22, // Fallback temperature
                        description: 'Pleasant',
                        iconCode: '01d',
                        iconURL: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFD700"><circle cx="12" cy="12" r="5"/></svg>'
                    };
                }
            }

            async updateWeatherDisplay() {
                const weatherData = await this.fetchWeatherData();
                
                const temperatureElement = document.getElementById('temperature');
                const iconElement = document.getElementById('weather-icon');
                
                if (temperatureElement) {
                    temperatureElement.textContent = `${Math.round(weatherData.temperature)}°C`;
                }
                
                if (iconElement) {
                    iconElement.src = weatherData.iconURL;
                    iconElement.alt = weatherData.description;
                }
            }

            startWeatherUpdates() {
                this.updateWeatherDisplay();
                setInterval(() => {
                    this.updateWeatherDisplay();
                }, 600000); // Update every 10 minutes
            }
        }

        // ======================================
        // 2. NAVIGATION SYSTEM WITH ROUTING
        // ======================================

       class NavigationManager {
    constructor() {
        this.currentPage = 'faculty';
        this.pages = {
            'faculty': { title: 'Faculty of Humanities', breadcrumb: 'Faculty of Humanities' },
            'acs': { title: 'Academic Communication Skills', breadcrumb: 'Faculty of Humanities > Academic Communication Skills' },
            'african-lang': { title: 'African Languages and Literature', breadcrumb: 'Faculty of Humanities > African Languages and Literature' },
            'english': { title: 'English Language and Literature', breadcrumb: 'Faculty of Humanities > English Language and Literature' },
            'history': { title: 'History Department', breadcrumb: 'Faculty of Humanities > History' },
            'journalism': { title: 'Journalism and Mass Communication', breadcrumb: 'Faculty of Humanities > Journalism and Mass Communication' },
            'theology': { title: 'Theology and Religious Studies', breadcrumb: 'Faculty of Humanities > Theology and Religious Studies' }
        };
        
        this.init();
    }

    init() {
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.page) {
                this.loadPage(event.state.page, false);
            } else {
                this.handleDeepLinking();
            }
        });

        this.handleDeepLinking();
    }

    handleDeepLinking() {
        // Extract page from pathname instead of query parameters
        const pathSegments = window.location.pathname.split('/').filter(segment => segment);
        let targetPage = pathSegments[0] || 'faculty';
        
        // Handle common path variations
        if (targetPage === 'humanities') {
            targetPage = 'faculty';
        }
        
        if (this.pages[targetPage]) {
            this.loadPage(targetPage, false);
        } else {
            // Redirect unknown paths to faculty home
            this.loadPage('faculty', true);
        }
    }

    async loadPage(pageId, updateHistory = true) {
        if (!this.pages[pageId]) {
            console.error(`Page ${pageId} not found`);
            return;
        }

        try {
            this.showLoadingState();
            
            this.currentPage = pageId;
            const page = this.pages[pageId];

            document.title = `${page.title} - University of Eswatini`;
            this.updateNavigation(pageId);

            // Simulate content loading
            await new Promise(resolve => setTimeout(resolve, 300));

            if (updateHistory) {
                // Use path-based routing instead of query parameters
                const newURL = pageId === 'faculty' ? '/' : `/${pageId}`;
                window.history.pushState({ page: pageId }, page.title, newURL);
            }

            this.hideLoadingState();
            this.showPageLoadNotification(page.title);

            if (sessionManager) {
                sessionManager.updateCurrentPage(pageId);
            }

        } catch (error) {
            console.error('Error loading page:', error);
            this.hideLoadingState();
        }
    }

    updateNavigation(activePageId) {
        // Remove active class from all nav items
        document.querySelectorAll('nav li').forEach(item => {
            item.classList.remove('active');
        });

        // Add active class to current page
        const activeLink = document.querySelector(`nav a[data-page="${activePageId}"]`);
        if (activeLink) {
            activeLink.closest('li').classList.add('active');
        }

        // Handle dropdown navigation
        document.querySelectorAll('.department-nav a').forEach(link => {
            link.classList.remove('current');
        });

        const currentDropdownLink = document.querySelector(`.department-nav a[href*="${activePageId}"]`);
        if (currentDropdownLink) {
            currentDropdownLink.classList.add('current');
        }
    }

    showLoadingState() {
        // Add a subtle loading indicator
        document.body.style.opacity = '0.8';
        document.body.style.pointerEvents = 'none';
    }

    hideLoadingState() {
        document.body.style.opacity = '1';
        document.body.style.pointerEvents = 'auto';
    }

    showPageLoadNotification(pageTitle) {
        // Update page title and breadcrumbs dynamically
        console.log(`Navigated to: ${pageTitle}`);
        
        // Update breadcrumb if element exists
        const breadcrumb = document.querySelector('.breadcrumb');
        if (breadcrumb && this.pages[this.currentPage]) {
            breadcrumb.innerHTML = this.pages[this.currentPage].breadcrumb;
        }
    }
}

// Updated search index with path-based URLs
const updatedSearchIndex = [
    { type: 'faculty', department: 'acs', title: 'M.V. Letsoela', content: 'M.V. Letsoela Senior Lecturer Head Academic Communication Skills', url: '/acs#faculty-1' },
    { type: 'faculty', department: 'journalism', title: 'N.T Ndzinisa', content: 'N.T Ndzinisa Lecturer Head Journalism Mass Communication', url: '/journalism#faculty-1' },
    { type: 'program', department: 'journalism', title: 'Bachelor of Journalism', content: 'Bachelor Journalism four year comprehensive program media', url: '/journalism#programs' },
    { type: 'department', department: 'theology', title: 'Theology and Religious Studies', content: 'Interfaith dialogue theological scholarship religious traditions', url: '/theology' }
];

// Global loadPage function updated for path routing
function loadPage(pageId) {
    if (navigationManager) {
        navigationManager.loadPage(pageId);
    }
}

        // ======================================
        // 3. SESSION MANAGEMENT
        // ======================================

        class SessionManager {
            constructor() {
                this.sessionKey = 'uneswa_faculty_session';
                this.init();
            }

            init() {
                if (!this.getSession()) {
                    this.createSession();
                }
                this.updateLastActivity();
            }

            createSession() {
                const session = {
                    id: this.generateSessionId(),
                    startTime: new Date().toISOString(),
                    lastActivity: new Date().toISOString(),
                    currentPage: 'faculty',
                    visitedPages: ['faculty'],
                    preferences: { theme: 'default', language: 'en' }
                };

                localStorage.setItem(this.sessionKey, JSON.stringify(session));
                return session;
            }

            getSession() {
                const sessionData = localStorage.getItem(this.sessionKey);
                return sessionData ? JSON.parse(sessionData) : null;
            }

            updateCurrentPage(pageId) {
                const session = this.getSession();
                if (session) {
                    if (!session.visitedPages.includes(pageId)) {
                        session.visitedPages.push(pageId);
                    }

                    session.currentPage = pageId;
                    session.lastActivity = new Date().toISOString();
                    localStorage.setItem(this.sessionKey, JSON.stringify(session));
                }
            }

            updateLastActivity() {
                const session = this.getSession();
                if (session) {
                    session.lastActivity = new Date().toISOString();
                    localStorage.setItem(this.sessionKey, JSON.stringify(session));
                }
            }

            generateSessionId() {
                return 'sess_' + Date.now() + '_' + Math.random().toString(36).substring(2, 15);
            }
        }

        // ======================================
        // 4. SEARCH FUNCTIONALITY
        // ======================================

        class SearchManager {
            constructor() {
                this.searchIndex = this.buildMockSearchIndex();
                this.setupSearchInterface();
            }

            buildMockSearchIndex() {
                return [
                    { type: 'faculty', department: 'acs', title: 'M.V. Letsoela', content: 'M.V. Letsoela Senior Lecturer Head Academic Communication Skills', url: '?page=acs#faculty-1' },
                    { type: 'faculty', department: 'journalism', title: 'N.T Ndzinisa', content: 'N.T Ndzinisa Lecturer Head Journalism Mass Communication', url: '?page=journalism#faculty-1' },
                    { type: 'program', department: 'journalism', title: 'Bachelor of Journalism', content: 'Bachelor Journalism four year comprehensive program media', url: '?page=journalism#programs' },
                    { type: 'department', department: 'theology', title: 'Theology and Religious Studies', content: 'Interfaith dialogue theological scholarship religious traditions', url: '?page=theology' }
                ];
            }

            setupSearchInterface() {
                const searchInput = document.querySelector('.search input');
                const searchButton = document.querySelector('.search button');

                if (searchInput && searchButton) {
                    searchInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.performSearch(searchInput.value);
                        }
                    });

                    searchButton.addEventListener('click', () => {
                        this.performSearch(searchInput.value);
                    });
                }
            }

            performSearch(query) {
                if (!query.trim()) return;

                const results = this.searchIndex.filter(item => 
                    item.content.toLowerCase().includes(query.toLowerCase()) ||
                    item.title.toLowerCase().includes(query.toLowerCase())
                );

                this.displaySearchResults(results, query);
            }

            displaySearchResults(results, query) {
                const resultsHTML = `
                    <div class="search-results-overlay" onclick="this.remove()">
                        <div class="search-results-container" onclick="event.stopPropagation()">
                            <h2>Search Results for "${query}"</h2>
                            <div class="results-list">
                                ${results.length > 0 ? 
                                    results.map(result => `
                                        <div class="search-result-item" onclick="window.location.href='${result.url}'; document.querySelector('.search-results-overlay').remove();">
                                            <h3>${result.title}</h3>
                                            <p class="result-type">${result.type} - ${result.department}</p>
                                            <p class="result-snippet">${this.getSnippet(result.content, query)}</p>
                                        </div>
                                    `).join('') :
                                    '<p style="text-align: center; padding: 20px; color: #666;">No results found for your search.</p>'
                                }
                            </div>
                            <div style="text-align: center; margin-top: 20px;">
                                <button class="cta-button" onclick="document.querySelector('.search-results-overlay').remove()">Close</button>
                            </div>
                        </div>
                    </div>
                `;

                const existingResults = document.querySelector('.search-results-overlay');
                if (existingResults) {
                    existingResults.remove();
                }

                document.body.insertAdjacentHTML('beforeend', resultsHTML);
            }

            getSnippet(content, query, maxLength = 150) {
                const queryIndex = content.toLowerCase().indexOf(query.toLowerCase());
                if (queryIndex === -1) return content.substring(0, maxLength) + '...';

                const start = Math.max(0, queryIndex - 50);
                const end = Math.min(content.length, queryIndex + query.length + 50);
                
                return (start > 0 ? '...' : '') + 
                       content.substring(start, end) + 
                       (end < content.length ? '...' : '');
            }
        }

        // ======================================
        // 5. INITIALIZATION AND GLOBAL FUNCTIONS
        // ======================================

        let weatherService;
        let navigationManager;
        let sessionManager;
        let searchManager;

        // Global loadPage function for backward compatibility
        function loadPage(pageId) {
            if (navigationManager) {
                navigationManager.loadPage(pageId);
            }
        }

        // Smooth scrolling utility
        function smoothScrollTo(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Mobile navigation toggle
        function toggleMobileNav() {
            const nav = document.querySelector('nav ul');
            if (nav) {
                nav.classList.toggle('mobile-active');
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                console.log('Initializing Faculty of Humanities website...');
                
                weatherService = new WeatherService();
                navigationManager = new NavigationManager();
                sessionManager = new SessionManager();
                searchManager = new SearchManager();

                weatherService.startWeatherUpdates();

                console.log('Faculty website fully initialized');
            } catch (error) {
                console.error('Initialization error:', error);
            }
        });
    </script>
</body>
</html>
